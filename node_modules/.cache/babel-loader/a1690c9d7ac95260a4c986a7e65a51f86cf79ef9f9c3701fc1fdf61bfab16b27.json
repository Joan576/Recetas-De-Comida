{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"header\", null, [_createElementVNode(\"nav\", null, [_createElementVNode(\"ul\", null, [!$setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", _hoisted_1, [_createVNode(_component_router_link, {\n    to: \"login\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"Login\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !$setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"register\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Register\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", _hoisted_3, [_createTextVNode(\" Bienvenido, \" + _toDisplayString($setup.username) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: $setup.logout\n  }, \"Cerrar sesión\")])) : _createCommentVNode(\"v-if\", true)])])]), _createElementVNode(\"main\", null, [_createVNode(_component_router_view)])]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","$setup","isLoggedIn","_hoisted_1","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_createCommentVNode","_hoisted_2","_hoisted_3","_toDisplayString","username","onClick","logout","_component_router_view"],"sources":["C:\\Users\\MEZAS\\OneDrive\\Escritorio\\Trabajos U\\Programacion Web\\Proyecto_Recetas\\recetas_front\\src\\layouts\\MainLayout.vue"],"sourcesContent":["<!-- layouts/MainLayout.vue -->\r\n<template>\r\n  <div>\r\n    <header>\r\n      <nav>\r\n        <ul>\r\n          <li v-if=\"!isLoggedIn\"><router-link to=\"login\">Login</router-link></li>\r\n          <li v-if=\"!isLoggedIn\"><router-link to=\"register\">Register</router-link></li>\r\n          <li v-if=\"isLoggedIn\">\r\n            Bienvenido, {{ username }} \r\n            <button @click=\"logout\">Cerrar sesión</button>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n    <main>\r\n      <router-view></router-view>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\n\r\n// Estado para verificar si el usuario está logueado y su nombre de usuario\r\nconst isLoggedIn = ref(false);\r\nconst username = ref('');\r\n\r\n// Comprobar el estado de inicio de sesión al montar el componente\r\nonMounted(() => {\r\n  const user = localStorage.getItem('user'); // Recuperar el usuario del localStorage\r\n  if (user) {\r\n    const parsedUser = JSON.parse(user);\r\n    isLoggedIn.value = true;\r\n    username.value = parsedUser.username; // Asumimos que el objeto tiene una propiedad username\r\n  }\r\n});\r\n\r\n// Función para manejar el cierre de sesión\r\nconst logout = () => {\r\n  localStorage.removeItem('user'); // Limpiar el localStorage\r\n  isLoggedIn.value = false; // Actualizar el estado\r\n  username.value = ''; // Limpiar el nombre de usuario\r\n};\r\n</script>\r\n"],"mappings":";;EAAAA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;;;uBAEEC,mBAAA,CAgBM,cAfJC,mBAAA,CAWS,iBAVPA,mBAAA,CASM,cARJA,mBAAA,CAOK,a,CANQC,MAAA,CAAAC,UAAU,I,cAArBH,mBAAA,CAAuE,MANjFI,UAAA,GAMiCC,YAAA,CAA2CC,sBAAA;IAA9BC,EAAE,EAAC;EAAO;IANxDC,OAAA,EAAAC,QAAA,CAMyD,MAAKC,MAAA,QAAAA,MAAA,OAN9DC,gBAAA,CAMyD,OAAK,E;IAN9DC,CAAA;UAAAC,mBAAA,gB,CAOqBX,MAAA,CAAAC,UAAU,I,cAArBH,mBAAA,CAA6E,MAPvFc,UAAA,GAOiCT,YAAA,CAAiDC,sBAAA;IAApCC,EAAE,EAAC;EAAU;IAP3DC,OAAA,EAAAC,QAAA,CAO4D,MAAQC,MAAA,QAAAA,MAAA,OAPpEC,gBAAA,CAO4D,UAAQ,E;IAPpEC,CAAA;UAAAC,mBAAA,gBAQoBX,MAAA,CAAAC,UAAU,I,cAApBH,mBAAA,CAGK,MAXfe,UAAA,GAAAJ,gBAAA,CAQgC,eACR,GAAAK,gBAAA,CAAGd,MAAA,CAAAe,QAAQ,IAAG,GAC1B,iBAAAhB,mBAAA,CAA8C;IAArCiB,OAAK,EAAEhB,MAAA,CAAAiB;EAAM,GAAE,eAAa,E,KAVjDN,mBAAA,e,OAeIZ,mBAAA,CAEO,eADLI,YAAA,CAA2Be,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}