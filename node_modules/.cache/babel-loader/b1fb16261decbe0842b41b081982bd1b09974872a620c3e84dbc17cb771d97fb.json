{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  __name: 'registerForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const handleSubmit = async () => {\n      if (form.value.password !== form.value.confirmPassword) {\n        error.value = 'Las contraseñas no coinciden';\n        success.value = '';\n      } else {\n        try {\n          const response = await fetch('http://localhost:3000/register', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: form.value.username,\n              email: form.value.email,\n              password: form.value.password\n            })\n          });\n          if (!response.ok) {\n            const errorMessage = await response.json();\n            error.value = errorMessage.message;\n            success.value = '';\n            return;\n          }\n          const data = await response.json();\n          success.value = data.message;\n          error.value = '';\n\n          // Redirigir al usuario a la página de login después de un tiempo\n          setTimeout(() => {\n            router.push('/login');\n          }, 1500);\n        } catch (err) {\n          error.value = 'Error al registrar el usuario';\n          success.value = '';\n          console.error('Error al hacer el registro:', err);\n        }\n      }\n    };\n    const __returned__ = {\n      handleSubmit\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["handleSubmit","form","value","password","confirmPassword","error","success","response","fetch","method","headers","body","JSON","stringify","username","email","ok","errorMessage","json","message","data","setTimeout","router","push","err","console"],"sources":["C:/Users/MEZAS/OneDrive/Escritorio/Trabajos U/Programacion Web/Proyecto_Recetas/recetas_front/src/components/registerForm.vue"],"sourcesContent":["<template> <!-- Utiliza un slot, si tu MainLayout tiene uno -->\r\n    <div class=\"register-page\">\r\n      <div class=\"register-container\">\r\n        <h2>Registro</h2>\r\n        <form @submit.prevent=\"handleSubmit\">\r\n          <div>\r\n            <label for=\"username\">Nombre de Usuario:</label>\r\n            <div style=\"text-align: center;\">\r\n              <input v-model=\"form.username\" type=\"text\" id=\"username\" required />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label for=\"email\">Correo Electrónico:</label>\r\n            <div style=\"text-align: center;\">\r\n              <input v-model=\"form.email\" type=\"email\" id=\"email\" required />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label for=\"password\">Contraseña:</label>\r\n            <div style=\"text-align: center;\">\r\n              <input v-model=\"form.password\" type=\"password\" id=\"password\" required />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label for=\"confirmPassword\">Confirmar Contraseña:</label>\r\n            <div style=\"text-align: center;\">\r\n              <input v-model=\"form.confirmPassword\" type=\"password\" id=\"confirmPassword\" required />\r\n            </div>\r\n          </div>\r\n          <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n          <div v-if=\"success\" class=\"success\">{{ success }}</div>\r\n          <button type=\"submit\">Registrar</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n<script setup>\r\n\r\nconst handleSubmit = async () => {\r\n  if (form.value.password !== form.value.confirmPassword) {\r\n    error.value = 'Las contraseñas no coinciden';\r\n    success.value = '';\r\n  } else {\r\n    try {\r\n      const response = await fetch('http://localhost:3000/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          username: form.value.username,\r\n          email: form.value.email,\r\n          password: form.value.password\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorMessage = await response.json();\r\n        error.value = errorMessage.message;\r\n        success.value = '';\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      success.value = data.message;\r\n      error.value = '';\r\n\r\n      // Redirigir al usuario a la página de login después de un tiempo\r\n      setTimeout(() => {\r\n        router.push('/login');\r\n      }, 1500);\r\n    } catch (err) {\r\n      error.value = 'Error al registrar el usuario';\r\n      success.value = '';\r\n      console.error('Error al hacer el registro:', err);\r\n    }\r\n  }\r\n};\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml, body {\r\n  height: 100%;\r\n  margin: 0; /* Asegúrate de que no haya márgenes */\r\n}\r\n\r\n.register-page {\r\n  margin: 0;\r\n  padding: 0;\r\n  background-image: url('https://imagenes.20minutos.es/files/image_1920_1080/uploads/imagenes/2023/01/02/surtido-de-tapas-espanolas.jpeg');\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  \r\n}\r\n\r\n.register-container {\r\n  max-width: 400px;\r\n  padding: 20px;\r\n  border: 1px solid #000;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  background-color: #dedede;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.input-group {\r\n  margin: 15px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n  text-align: left;\r\n}\r\n\r\ninput {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  display: block;\r\n  margin: 0 auto;\r\n}\r\n\r\nbutton {\r\n  margin-top: 15px;\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #007BFF;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n  margin-top: 10px;\r\n  font-size: 14px;\r\n}\r\n\r\n.success {\r\n  color: green;\r\n  margin-top: 10px;\r\n  font-size: 14px;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;IAyCA,MAAMA,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAIC,IAAI,CAACC,KAAK,CAACC,QAAQ,KAAKF,IAAI,CAACC,KAAK,CAACE,eAAe,EAAE;QACtDC,KAAK,CAACH,KAAK,GAAG,8BAA8B;QAC5CI,OAAO,CAACJ,KAAK,GAAG,EAAE;MACpB,CAAC,MAAM;QACL,IAAI;UACF,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;YAC7DC,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;cACP,cAAc,EAAE;YAClB,CAAC;YACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;cACnBC,QAAQ,EAAEb,IAAI,CAACC,KAAK,CAACY,QAAQ;cAC7BC,KAAK,EAAEd,IAAI,CAACC,KAAK,CAACa,KAAK;cACvBZ,QAAQ,EAAEF,IAAI,CAACC,KAAK,CAACC;YACvB,CAAC;UACH,CAAC,CAAC;UAEF,IAAI,CAACI,QAAQ,CAACS,EAAE,EAAE;YAChB,MAAMC,YAAY,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;YAC1Cb,KAAK,CAACH,KAAK,GAAGe,YAAY,CAACE,OAAO;YAClCb,OAAO,CAACJ,KAAK,GAAG,EAAE;YAClB;UACF;UAEA,MAAMkB,IAAI,GAAG,MAAMb,QAAQ,CAACW,IAAI,CAAC,CAAC;UAClCZ,OAAO,CAACJ,KAAK,GAAGkB,IAAI,CAACD,OAAO;UAC5Bd,KAAK,CAACH,KAAK,GAAG,EAAE;;UAEhB;UACAmB,UAAU,CAAC,MAAM;YACfC,MAAM,CAACC,IAAI,CAAC,QAAQ,CAAC;UACvB,CAAC,EAAE,IAAI,CAAC;QACV,CAAC,CAAC,OAAOC,GAAG,EAAE;UACZnB,KAAK,CAACH,KAAK,GAAG,+BAA+B;UAC7CI,OAAO,CAACJ,KAAK,GAAG,EAAE;UAClBuB,OAAO,CAACpB,KAAK,CAAC,6BAA6B,EAAEmB,GAAG,CAAC;QACnD;MACF;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}