{"ast":null,"code":"import { ref, onMounted } from 'vue';\n\n// Estado para verificar si el usuario está logueado y su nombre de usuario\n\nexport default {\n  __name: 'MainLayout',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const isLoggedIn = ref(false);\n    const username = ref('');\n\n    // Comprobar el estado de inicio de sesión al montar el componente\n    onMounted(() => {\n      const user = localStorage.getItem('user'); // Recuperar el usuario del localStorage\n      if (user) {\n        const parsedUser = JSON.parse(user);\n        isLoggedIn.value = true;\n        username.value = parsedUser.username; // Asumimos que el objeto tiene una propiedad username\n      }\n    });\n\n    // Función para manejar el cierre de sesión\n    const logout = () => {\n      localStorage.removeItem('user'); // Limpiar el localStorage\n      isLoggedIn.value = false; // Actualizar el estado\n      username.value = ''; // Limpiar el nombre de usuario\n    };\n    const __returned__ = {\n      isLoggedIn,\n      username,\n      logout,\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","isLoggedIn","username","user","localStorage","getItem","parsedUser","JSON","parse","value","logout","removeItem"],"sources":["C:/Users/MEZAS/OneDrive/Escritorio/Trabajos U/Programacion Web/Proyecto_Recetas/recetas_front/src/layouts/MainLayout.vue"],"sourcesContent":["<!-- layouts/MainLayout.vue -->\r\n<template>\r\n  <div>\r\n    <header>\r\n      <nav>\r\n        <ul>\r\n          <li v-if=\"!isLoggedIn\"><router-link to=\"login\">Login</router-link></li>\r\n          <li v-if=\"!isLoggedIn\"><router-link to=\"register\">Register</router-link></li>\r\n          <li v-if=\"isLoggedIn\">\r\n            Bienvenido, {{ username }} \r\n            <button @click=\"logout\">Cerrar sesión</button>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n    <main>\r\n      <router-view></router-view>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\n\r\n// Estado para verificar si el usuario está logueado y su nombre de usuario\r\nconst isLoggedIn = ref(false);\r\nconst username = ref('');\r\n\r\n// Comprobar el estado de inicio de sesión al montar el componente\r\nonMounted(() => {\r\n  const user = localStorage.getItem('user'); // Recuperar el usuario del localStorage\r\n  if (user) {\r\n    const parsedUser = JSON.parse(user);\r\n    isLoggedIn.value = true;\r\n    username.value = parsedUser.username; // Asumimos que el objeto tiene una propiedad username\r\n  }\r\n});\r\n\r\n// Función para manejar el cierre de sesión\r\nconst logout = () => {\r\n  localStorage.removeItem('user'); // Limpiar el localStorage\r\n  isLoggedIn.value = false; // Actualizar el estado\r\n  username.value = ''; // Limpiar el nombre de usuario\r\n};\r\n</script>\r\n"],"mappings":"AAsBA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;;AAEpC;;;;;;;;IACA,MAAMC,UAAU,GAAGF,GAAG,CAAC,KAAK,CAAC;IAC7B,MAAMG,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;;IAExB;IACAC,SAAS,CAAC,MAAM;MACd,MAAMG,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;MAC3C,IAAIF,IAAI,EAAE;QACR,MAAMG,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC;QACnCF,UAAU,CAACQ,KAAK,GAAG,IAAI;QACvBP,QAAQ,CAACO,KAAK,GAAGH,UAAU,CAACJ,QAAQ,CAAC,CAAC;MACxC;IACF,CAAC,CAAC;;IAEF;IACA,MAAMQ,MAAM,GAAGA,CAAA,KAAM;MACnBN,YAAY,CAACO,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;MACjCV,UAAU,CAACQ,KAAK,GAAG,KAAK,CAAC,CAAC;MAC1BP,QAAQ,CAACO,KAAK,GAAG,EAAE,CAAC,CAAC;IACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}